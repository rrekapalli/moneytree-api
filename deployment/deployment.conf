# MoneyTree Deployment Configuration
# This file contains common deployment settings that are used across all components
# Edit this file to customize your deployment environment

# ==============================================================================
# Server Addresses (Tailscale)
# ==============================================================================
BACKEND_HOST=backend.tailce422e.ts.net
SOCKETENGINE_HOST=socketengine.tailce422e.ts.net
FRONTEND_HOST=moneytree.tailce422e.ts.net

# ==============================================================================
# Application Ports
# ==============================================================================
BACKEND_PORT=8080
SOCKETENGINE_PORT=8081
FRONTEND_PORT=80

# ==============================================================================
# Application Users
# ==============================================================================
BACKEND_USER=moneytree-backend
SOCKETENGINE_USER=moneytree-socketengine
FRONTEND_USER=moneytree-frontend

# ==============================================================================
# Database Configuration
# ==============================================================================
DB_HOST=postgres.tailce422e.ts.net
DB_PORT=5432
DB_NAME=MoneyTree
DB_USERNAME=postgres
# DB_PASSWORD should be set via environment variable or deployment prompt

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_HOST=redis.tailce422e.ts.net
REDIS_PORT=6379
# REDIS_PASSWORD should be set via environment variable or deployment prompt

# ==============================================================================
# CORS Configuration
# ==============================================================================
# Allow both HTTP and HTTPS origins (frontend may be served over HTTP or HTTPS)
CORS_ALLOWED_ORIGINS=http://moneytree.tailce422e.ts.net,https://moneytree.tailce422e.ts.net
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOW_CREDENTIALS=true

# ==============================================================================
# WebSocket Configuration (SocketEngine)
# ==============================================================================
# Allow both HTTP and HTTPS origins (frontend may be served over HTTP or HTTPS)
WEBSOCKET_ALLOWED_ORIGINS=http://moneytree.tailce422e.ts.net,https://moneytree.tailce422e.ts.net
WEBSOCKET_MAX_SESSIONS=1000
WEBSOCKET_MAX_MESSAGE_SIZE=65536

# ==============================================================================
# Persistence Configuration (SocketEngine)
# ==============================================================================
PERSISTENCE_BATCH_SIZE=1000
PERSISTENCE_MAX_BUFFER_SIZE=100000
PERSISTENCE_BATCH_INTERVAL_MINUTES=15

# ==============================================================================
# Kite API Configuration
# ==============================================================================
KITE_BASE_URL=https://api.kite.trade
KITE_WEBSOCKET_URL=wss://ws.kite.trade
# KITE_API_KEY, KITE_API_SECRET, KITE_ACCESS_TOKEN should be set via prompts

# ==============================================================================
# Frontend API URLs
# ==============================================================================
BACKEND_API_URL=http://backend.tailce422e.ts.net:8080/api
SOCKETENGINE_API_URL=http://socketengine.tailce422e.ts.net:8081/engines
SOCKETENGINE_WS_URL=ws://socketengine.tailce422e.ts.net:8081/engines
SOCKETENGINE_HTTP_URL=http://socketengine.tailce422e.ts.net:8081/engines
FRONTEND_URL=https://moneytree.tailce422e.ts.net

# ==============================================================================
# OAuth Configuration
# ==============================================================================
# GOOGLE_CLIENT_ID and MICROSOFT_CLIENT_ID should be set via prompts
