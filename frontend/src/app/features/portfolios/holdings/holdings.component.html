<div class="tab-content holdings-tab">
  <h3 class="tab-title">Holdings - {{ selectedPortfolio?.name }}</h3>

  <!-- Loading State -->
  <div *ngIf="holdingsLoading" class="loading-state">
    <i class="pi pi-spin pi-spinner"></i>
    <p>Loading holdings...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="holdingsError && !holdingsLoading" class="error-state">
    <i class="pi pi-exclamation-triangle"></i>
    <p>{{ holdingsError }}</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!holdingsLoading && !holdingsError && holdings.length === 0" class="empty-state">
    <i class="pi pi-inbox"></i>
    <p>No holdings found for this portfolio.</p>
  </div>

  <!-- Holdings Table -->
  <div *ngIf="!holdingsLoading && !holdingsError && holdings.length > 0" class="holdings-table-container">
    <p-table 
      [value]="holdings" 
      [paginator]="true" 
      [rows]="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} holdings"
      [rowsPerPageOptions]="[10, 25, 50]"
      styleClass="p-datatable-sm"
      responsiveLayout="scroll">
      
      <ng-template pTemplate="header">
        <tr>
          <th>Symbol</th>
          <th>Quantity</th>
          <th>Avg Cost</th>
          <th>Current Value</th>
          <th>Unrealized P&L</th>
          <th>Last Updated</th>
        </tr>
      </ng-template>
      
      <ng-template pTemplate="body" let-holding>
        <tr>
          <td>{{ holding.symbol }}</td>
          <td>{{ holding.quantity }}</td>
          <td>{{ holding.avgCost | number:'1.2-2' }}</td>
          <td>-</td>
          <td>-</td>
          <td>{{ formatDate(holding.lastUpdated) }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
