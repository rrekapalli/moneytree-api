<div class="tab-content trades-tab">
  <h3 class="tab-title">Trades - {{ selectedPortfolio?.name }}</h3>

  <!-- Loading State -->
  <div *ngIf="tradesLoading" class="loading-state">
    <i class="pi pi-spin pi-spinner"></i>
    <p>Loading trades...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="tradesError && !tradesLoading" class="error-state">
    <i class="pi pi-exclamation-triangle"></i>
    <p>{{ tradesError }}</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!tradesLoading && !tradesError && trades.length === 0" class="empty-state">
    <i class="pi pi-inbox"></i>
    <p>No trades found for this portfolio.</p>
  </div>

  <!-- Trades Table -->
  <div *ngIf="!tradesLoading && !tradesError && trades.length > 0" class="trades-table-container">
    <p-table 
      [value]="trades" 
      [paginator]="true" 
      [rows]="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} trades"
      [rowsPerPageOptions]="[10, 25, 50]"
      styleClass="p-datatable-sm"
      responsiveLayout="scroll">
      
      <ng-template pTemplate="header">
        <tr>
          <th>Symbol</th>
          <th>Entry Date</th>
          <th>Entry Price</th>
          <th>Exit Date</th>
          <th>Exit Price</th>
          <th>Quantity</th>
          <th>Profit</th>
          <th>Profit %</th>
          <th>Exit Type</th>
        </tr>
      </ng-template>
      
      <ng-template pTemplate="body" let-trade>
        <tr>
          <td>{{ trade.symbol }}</td>
          <td>{{ formatDate(trade.entryDate) }}</td>
          <td>{{ trade.entryPrice | number:'1.2-2' }}</td>
          <td>{{ formatDate(trade.exitDate) }}</td>
          <td>{{ trade.exitPrice | number:'1.2-2' }}</td>
          <td>{{ trade.quantity }}</td>
          <td [ngClass]="trade.profit >= 0 ? 'profit-positive' : 'profit-negative'">
            {{ trade.profit | number:'1.2-2' }}
          </td>
          <td [ngClass]="trade.profitPct >= 0 ? 'profit-positive' : 'profit-negative'">
            {{ trade.profitPct | number:'1.2-2' }}%
          </td>
          <td>{{ trade.exitType }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
